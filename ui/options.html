<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <link href="options.css" rel="stylesheet"/>
  <script src="/util/locale.js"></script>
  <script src="/util/dom.js"></script>
  <script src="/util/common.js"></script>
  <script src="options.js" type="module"></script>
  <script src="options-rules.js" type="module"></script>

  <template id="tpl:rule">
    <article class="rule">
      <div class="rule-actions">
        <span class="rule-action" data-action="add">add</span>
        <span class="rule-action" data-action="delete">delete</span>
      </div>
    </article>
  </template>

  <template id="tpl:ruleMember">
    <label class="rule-member">
      <span class="rule-member-name" title="">url</span>
      <textarea class="rule-member-value"
                required
                data-type="url"
                rows="1"
                spellcheck="false"
                maxlength="1048576"
                wrap="soft"></textarea>
    </label>
  </template>
</head>

<body>
  <section>
    <label>
      <input type="checkbox" id="showStatus"/><span tl>showStatus</span>
    </label>
  </section>

  <section>
    <details>
      <summary tl>customRules</summary>
      <div id="rules"></div>
    </details>
  </section>

  <section>
    <details open>
      <summary tl>excludePatterns</summary>
      <textarea id="excludes" rows="7" spellcheck="false"></textarea>
      <div class="desc">
        <span tl>example</span> (<span tl>wildcard</span>):
        <code>http://www.example.com/search?*</code>
        <br/>
        <span tl>example</span> (<span tl>regexp</span>):
        <code>/[^.]+\.example\.com\//</code>
      </div>
    </details>
  </section>

  <section>
    <details open>
      <summary tl>siteinfo</summary>

      <div><span tl>size</span>: <code id="size"></code></div>
      <div><span tl>updatedAt</span>: <code id="updatedAt"></code></div>

      <button tl id="btnUpdate">updateSiteinfo</button>
    </details>
  </section>

  <section class="ignore-changes">
    <details>
      <summary><span tl>import</span> / <span tl>export</span></summary>
      <button tl id="btnExport">export</button>
      <textarea id="backup" rows="4" spellcheck="false"></textarea>
      <fieldset id="importWrapper" disabled>
        <p id="importError" hidden></p>
        <button tl id="btnImport">import</button>
        <label><input id="overwriteSettings" type="checkbox"><span tl>overwriteSettings</span></label>
      </fieldset>
    </details>
  </section>

  <div id="btnSaveWrapper" hidden>
    <button tl id="btnSave">saveChanges</button>
  </div>
</body>
</html>
