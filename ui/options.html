<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <link href="options.css" rel="stylesheet"/>
  <script src="/util/locale.js"></script>
  <script src="/util/dom.js"></script>
  <script src="/util/common.js"></script>
  <script src="options.js" type="module"></script>
  <script src="options-rules.js" type="module"></script>

  <template id="tpl:rule">
    <article class="rule">
      <div class="rule-actions">
        <span class="rule-action" data-action="add">add</span>
        <span class="rule-action" data-action="delete">delete</span>
      </div>
    </article>
  </template>

  <template id="tpl:ruleMember">
    <label class="rule-member">
      <span class="rule-member-name" title="">url</span>
      <textarea class="rule-member-value"
                required
                data-type="url"
                rows="1"
                spellcheck="false"
                maxlength="1048576"
                wrap="soft"></textarea>
    </label>
  </template>
</head>

<body>
  <section>
    <label>
      <input type="checkbox" id="showStatus"/><span tl>showStatus</span>
    </label>
  </section>

  <section>
    <details>
      <summary tl>customRules</summary>
      <div id="rules" class="details-body"></div>
    </details>
  </section>

  <section>
    <details open>
      <summary tl>excludePatterns</summary>
      <div class="details-body">
        <textarea id="excludes" rows="7" spellcheck="false"></textarea>
        <table class="desc" style="border-spacing: 0">
          <tr>
            <td><span tl>example</span> (<span tl>singleURL</span>):</td>
            <td><code>http://www.example.com/foo</code></td>
          </tr>
          <tr>
            <td><span tl>example</span> (<span tl>wildcard</span>):</td>
            <td><code>http://*.example.com/bar*</code></td>
          </tr>
          <tr>
            <td><span tl>example</span> (<span tl>regexp</span>):</td>
            <td><code>/[^.]+\.example\.com\//</code></td>
          </tr>
        </table>
      </div>
    </details>
  </section>

  <section>
    <details open>
      <summary tl>siteinfo</summary>
      <div class="details-body">
        <div><span tl>size</span>: <output id="size"></output></div>
        <div><span tl>date</span>: <time id="date"></time></div>
        <button tl id="btnUpdate">updateSiteinfo</button>
      </div>
    </details>
  </section>

  <section class="ignore-changes">
    <details>
      <summary><span tl>import</span> / <span tl>export</span></summary>
      <div class="details-body">
        <button tl id="btnExport">export</button>
        <textarea id="backup" rows="4" spellcheck="false"></textarea>
        <fieldset id="importWrapper" disabled>
          <p id="importError" hidden></p>
          <button tl id="btnImport">import</button>
          <label><input id="overwriteSettings" type="checkbox"><span tl>overwriteSettings</span></label>
        </fieldset>
      </div>
    </details>
  </section>

  <div id="btnSaveWrapper" hidden>
    <button tl id="btnSave">saveChanges</button>
  </div>
</body>
</html>
